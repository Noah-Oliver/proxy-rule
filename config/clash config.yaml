#è®¢é˜…ç›¸å…³
p: &p
 type: http
 interval: 86400
 proxy: DIRECT
 health-check:
  enable: true
  url: https://www.gstatic.com/generate_204
  interval: 300
 override:
  udp: true
  ip-version: ipv4-prefer
#è®¢é˜…é“¾æŽ¥
proxy-providers:
 provider1:
  <<: *p
  url: ""
#  path: ./proxies/provider1.yaml
#ä¸»é…ç½®
allow-lan: true
mode: rule
log-level: info
ipv6: true
external-controller: 127.0.0.1:9090
unified-delay: true
tcp-concurrent: true
dns:
 enable: true
 listen: 0.0.0.0:1053
 ipv6: true
 enhanced-mode: fake-ip
 default-nameserver:
  - 223.5.5.5
 fake-ip-filter:
  - '*.lan'
  - localhost.ptlogin2.qq.com
 nameserver:
  - https://doh.pub/dns-query
  - https://dns.alidns.com/dns-query
 nameserver-policy:
  'rule-set:direct,lancidr,cncidr,Mydirect': [https://doh.pub/dns-query, https://dns.alidns.com/dns-query]
  'rule-set:gfw,Apple,Microsoft,telegram,google,proxy,Myproxy': [https://dns.google/dns-query, https://1.1.1.1/dns-query]
sniffer:
 enable: true
 sniff:
  HTTP:
   ports: [80, 8080-8880]
   override-destination: true
  TLS:
   ports: [443, 8443]
  QUIC:
   ports: [443, 8443]
 skip-domain:
  - Mijia Cloud
mixed-port: 7890
tun:
 enable: true
 stack: mixed
 device: clash
 auto-route: true
 auto-detect-interface: true
 dns-hijack:
  - any:53
  - tcp://any:53
ntp:
 enable: true
 write-to-system: false
 server: time.apple.com
 port: 123
 interval: 30
proxy-groups:
 - name: "âœˆï¸ èŠ‚ç‚¹é€‰æ‹©"
   type: select
   include-all-providers: true
 - name: "ðŸ’© å¹¿å‘Š"
   type: select
   proxies:
    - REJECT
    - DIRECT
    - âœˆï¸ èŠ‚ç‚¹é€‰æ‹©
    - ðŸ‡­ðŸ‡° é¦™æ¸¯
    - ðŸ‡¨ðŸ‡³ å°æ¹¾
    - ðŸ‡¯ðŸ‡µ æ—¥æœ¬
    - ðŸ‡¸ðŸ‡¬ æ–°åŠ å¡
    - ðŸ‡°ðŸ‡· éŸ©å›½
    - ðŸ‡ºðŸ‡² ç¾Žå›½
 - name: "ðŸŒŽ å›½å¤–"
   type: select
   proxies:
    - DIRECT
    - âœˆï¸ èŠ‚ç‚¹é€‰æ‹©
    - ðŸ‡­ðŸ‡° é¦™æ¸¯
    - ðŸ‡¨ðŸ‡³ å°æ¹¾
    - ðŸ‡¯ðŸ‡µ æ—¥æœ¬
    - ðŸ‡¸ðŸ‡¬ æ–°åŠ å¡
    - ðŸ‡°ðŸ‡· éŸ©å›½
    - ðŸ‡ºðŸ‡² ç¾Žå›½
 - name: "ðŸ§± å›½å†…"
   type: select
   proxies:
    - DIRECT
    - âœˆï¸ èŠ‚ç‚¹é€‰æ‹©
    - ðŸ‡­ðŸ‡° é¦™æ¸¯
    - ðŸ‡¨ðŸ‡³ å°æ¹¾
    - ðŸ‡¯ðŸ‡µ æ—¥æœ¬
    - ðŸ‡¸ðŸ‡¬ æ–°åŠ å¡
    - ðŸ‡°ðŸ‡· éŸ©å›½
    - ðŸ‡ºðŸ‡² ç¾Žå›½
 - name: "ðŸŽ® æ¸¸æˆä¸‹è½½"
   type: select
   proxies:
    - DIRECT
    - âœˆï¸ èŠ‚ç‚¹é€‰æ‹©
    - ðŸ‡­ðŸ‡° é¦™æ¸¯
    - ðŸ‡¨ðŸ‡³ å°æ¹¾
    - ðŸ‡¯ðŸ‡µ æ—¥æœ¬
    - ðŸ‡¸ðŸ‡¬ æ–°åŠ å¡
    - ðŸ‡°ðŸ‡· éŸ©å›½
    - ðŸ‡ºðŸ‡² ç¾Žå›½
 - name: "ðŸŽ è‹¹æžœ"
   type: select
   proxies:
    - DIRECT
    - âœˆï¸ èŠ‚ç‚¹é€‰æ‹©
    - ðŸ‡­ðŸ‡° é¦™æ¸¯
    - ðŸ‡¨ðŸ‡³ å°æ¹¾
    - ðŸ‡¯ðŸ‡µ æ—¥æœ¬
    - ðŸ‡¸ðŸ‡¬ æ–°åŠ å¡
    - ðŸ‡°ðŸ‡· éŸ©å›½
    - ðŸ‡ºðŸ‡² ç¾Žå›½
 - name: "â“‚ï¸ å¾®è½¯"
   type: select
   proxies:
    - DIRECT
    - âœˆï¸ èŠ‚ç‚¹é€‰æ‹©
    - ðŸ‡­ðŸ‡° é¦™æ¸¯
    - ðŸ‡¨ðŸ‡³ å°æ¹¾
    - ðŸ‡¯ðŸ‡µ æ—¥æœ¬
    - ðŸ‡¸ðŸ‡¬ æ–°åŠ å¡
    - ðŸ‡°ðŸ‡· éŸ©å›½
    - ðŸ‡ºðŸ‡² ç¾Žå›½
 - name: "ðŸŸ æœªçŸ¥"
   type: select
   proxies:
    - DIRECT
    - âœˆï¸ èŠ‚ç‚¹é€‰æ‹©
    - ðŸ‡­ðŸ‡° é¦™æ¸¯
    - ðŸ‡¨ðŸ‡³ å°æ¹¾
    - ðŸ‡¯ðŸ‡µ æ—¥æœ¬
    - ðŸ‡¸ðŸ‡¬ æ–°åŠ å¡
    - ðŸ‡°ðŸ‡· éŸ©å›½
    - ðŸ‡ºðŸ‡² ç¾Žå›½
 - name: "ðŸ‡­ðŸ‡° é¦™æ¸¯"
   type: url-test
   url: 'https://www.gstatic.com/generate_204'
   interval: 300
   tolerance: 200
   lazy: false
   include-all-providers: true
   filter: "^(?!.*x(?:[2-9]|[1-9][0-9]))(?=.*(?:æ¸¯|é¦™æ¸¯|HongKong|HK|Hong Kong)).*$"
   #exclude-filter:""
   hidden: false
 - name: "ðŸ‡¨ðŸ‡³ å°æ¹¾"
   type: url-test
   url: 'https://www.gstatic.com/generate_204'
   interval: 300
   tolerance: 200
   lazy: false
   include-all-providers: true
   filter: "^(?!.*x(?:[2-9]|[1-9][0-9]))(?=.*(?:å°|æ–°åŒ—|å½°åŒ–|TW|Taiwan)).*$"
   #exclude-filter:""
   hidden: false
 - name: "ðŸ‡¯ðŸ‡µ æ—¥æœ¬"
   type: url-test
   url: 'https://www.gstatic.com/generate_204'
   interval: 300
   tolerance: 200
   lazy: false
   include-all-providers: true
   filter: "^(?!.*x(?:[2-9]|[1-9][0-9]))(?=.*(?:æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼çŽ‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan)).*$"
   #exclude-filter:""
   hidden: false
 - name: "ðŸ‡¸ðŸ‡¬ æ–°åŠ å¡"
   type: url-test
   url: 'https://www.gstatic.com/generate_204'
   interval: 300
   tolerance: 200
   lazy: false
   include-all-providers: true
   filter: "^(?!.*x(?:[2-9]|[1-9][0-9]))(?=.*(?:æ–°åŠ å¡|å¡|ç‹®åŸŽ|SG|Singapore)).*$"
   #exclude-filter:""
   hidden: false
 - name: "ðŸ‡°ðŸ‡· éŸ©å›½"
   type: url-test
   url: 'https://www.gstatic.com/generate_204'
   interval: 300
   tolerance: 200
   lazy: false
   include-all-providers: true
   filter: "^(?!.*x(?:[2-9]|[1-9][0-9]))(?=.*(?:KR|Korea|KOR|é¦–å°”|éŸ©|éŸ“)).*$"
   #exclude-filter:""
   hidden: false
 - name: "ðŸ‡ºðŸ‡² ç¾Žå›½"
   type: url-test
   url: 'https://www.gstatic.com/generate_204'
   interval: 300
   tolerance: 200
   lazy: false
   include-all-providers: true
   filter: "^(?!.*x(?:[2-9]|[1-9][0-9]))(?=.*(?:ç¾Ž|ç¾Žå›½|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸŽ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡ž|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|United States|(?<![a-zA-Z])US(?![a-zA-Z])|(?<![a-zA-Z])USA(?![a-zA-Z])|(?<![a-zA-Z])USD(?![a-zA-Z]))).*$"
   #exclude-filter:""
   hidden: false
rules:
 - RULE-SET,AD,ðŸ’© å¹¿å‘Š
 - RULE-SET,Download,DIRECT
 - RULE-SET,GameDownloadCN,DIRECT
 - RULE-SET,GameDownload,ðŸŽ® æ¸¸æˆä¸‹è½½
 - RULE-SET,Mydirect,ðŸ§± å›½å†…
 - RULE-SET,Myproxy,ðŸŒŽ å›½å¤–
 - RULE-SET,gfw,ðŸŒŽ å›½å¤–
 - RULE-SET,Apple,ðŸŽ è‹¹æžœ
 - RULE-SET,Microsoft,â“‚ï¸ å¾®è½¯
 - RULE-SET,telegram,ðŸŒŽ å›½å¤–
 - RULE-SET,google,ðŸŒŽ å›½å¤–
 - RULE-SET,direct,ðŸ§± å›½å†…
 - RULE-SET,lancidr,ðŸ§± å›½å†…
 - RULE-SET,cncidr,ðŸ§± å›½å†…
 - RULE-SET,proxy,ðŸŒŽ å›½å¤–
 - MATCH,ðŸŸ æœªçŸ¥
rule-providers:
 AD:
  type: http
  url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/AdGuardSDNSFilter/AdGuardSDNSFilter_Classical.yaml"
  interval: 86400
  proxy: DIRECT
  behavior: classical
  path: ./providers/rule-provider_AD.yaml
 Download:
  type: http
  url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Download/Download.yaml"
  interval: 86400
  proxy: DIRECT
  behavior: classical
  path: ./providers/rule-provider_Download.yaml
 GameDownloadCN:
  type: http
  url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Game/GameDownloadCN/GameDownloadCN.yaml"
  interval: 86400
  proxy: DIRECT
  behavior: classical
  path: ./providers/rule-provider_GameDownloadCN.yaml
 GameDownload:
  type: http
  url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Game/GameDownload/GameDownload.yaml"
  interval: 86400
  proxy: DIRECT
  behavior: classical
  path: ./providers/rule-provider_GameDownload.yaml
 gfw:
  type: http
  url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/gfw.txt"
  interval: 86400
  proxy: DIRECT
  behavior: domain
  path: ./providers/rule-provider_gfw.yaml
 Apple:
  type: http
  url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple_Classical.yaml"
  interval: 86400
  proxy: DIRECT
  behavior: classical
  path: ./providers/rule-provider_Apple.yaml
 Microsoft:
  type: http
  url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.yaml"
  interval: 86400
  proxy: DIRECT
  behavior: classical
  path: ./providers/rule-provider_Microsoft.yaml
 telegram:
  type: http
  url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/telegramcidr.txt"
  interval: 86400
  proxy: DIRECT
  behavior: ipcidr
  path: ./providers/rule-provider_telegram.yaml
 google:
  type: http
  url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/google.txt"
  interval: 86400
  proxy: DIRECT
  behavior: domain
  path: ./providers/rule-provider_google.yaml
 proxy:
  type: http
  url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/proxy.txt"
  interval: 86400
  proxy: DIRECT
  behavior: domain
  path: ./providers/rule-provider_proxy.yaml
 direct:
  type: http
  url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/direct.txt"
  interval: 86400
  proxy: DIRECT
  behavior: domain
  path: ./providers/rule-provider_direct.yaml
 lancidr:
  type: http
  url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/lancidr.txt"
  interval: 86400
  proxy: DIRECT
  behavior: ipcidr
  path: ./providers/rule-provider_lancidr.yaml
 cncidr:
  type: http
  url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/cncidr.txt"
  interval: 86400
  proxy: DIRECT
  behavior: ipcidr
  path: ./providers/rule-provider_cncidr.yaml
 Mydirect:
  type: http
  url: "https://raw.githubusercontent.com/Noah-Oliver/proxy-rule/main/rule/clash/Mydirect.yaml"
  interval: 86400
  proxy: DIRECT
  behavior: classical
  path: ./providers/rule-provider_Mydirect.yaml
 Myproxy:
  type: http
  url: "https://raw.githubusercontent.com/Noah-Oliver/proxy-rule/main/rule/clash/Myproxy.yaml"
  interval: 86400
  proxy: DIRECT
  behavior: classical
  path: ./providers/rule-provider_Myproxy.yaml
